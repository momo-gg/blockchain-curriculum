# 1.3 Bitcoin's Limitations

> *"The main practical significance of [Bitcoin] Script's limitations is that Bitcoin can only be money... We can do so much more."*
> â€” Vitalik Buterin, 2013

---

## Why This Matters

Bitcoin solved the trust problem for digital money. But the blockchain technology it pioneered suggested possibilities far beyond currency. This module explores Bitcoin's intentional design constraints, why they exist, and why they created demand for more programmable blockchains.

Every limitation we discuss here is a deliberate trade-off. Understanding these trade-offs is essential for evaluating any blockchain, including Solana.

---

## ðŸŸ¢ General Understanding

### Limitation 1: It's Just Money

Bitcoin can do one thing well: transfer value from person A to person B. That's it.

**What Bitcoin Can Do**
- âœ… Send 10 BTC to someone
- âœ… Send BTC if two of three keys sign (multisig)
- âœ… Lock BTC until a specific time

**What Bitcoin Cannot Do**
- âŒ Automatically pay rent on the 1st of every month
- âŒ Release funds only if a package is delivered
- âŒ Create a voting system where tokens represent shares
- âŒ Run a decentralized exchange
- âŒ Issue loans with programmed interest payments

> ðŸ’¡ **Key Insight**: Bitcoin is digital *gold*, not digital *law*. It stores and transfers value but can't enforce complex agreements.

**A Simple Example: The Escrow Problem**

You want to buy a $10,000 item from a stranger online:
- You don't trust them to ship after you pay
- They don't trust you to pay after they ship

**Traditional solution**: Use an escrow service (PayPal, eBay, bank)

**Could Bitcoin help?** Only partially:
- Multisig: Both parties plus an arbitrator must agree
- But the arbitrator must be manually contacted and trusted
- No automatic release when delivery is confirmed
- No dispute resolution logic on-chain

What you'd *want*: A program that automatically releases funds when a GPS tracker confirms delivery, with built-in dispute timelines.

Bitcoin can't do that.

### Limitation 2: It's Slow

Bitcoin processes approximately **3-7 transactions per second** with **10-minute blocks**.

For context:

| System | Transactions Per Second |
|--------|-------------------------|
| Bitcoin | 3-7 |
| Visa (peak) | 65,000 |
| Mastercard (peak) | 40,000 |
| PayPal | 1,000 |

**Why 10 minutes?**

Block time is a trade-off:
- Faster blocks â†’ more orphaned blocks (wasted work), less security
- Slower blocks â†’ more security, but worse user experience

Satoshi chose 10 minutes as a balance, optimized for a global network with high latency.

**Why 3-7 TPS?**

Block size is limited to effectively ~2-4 MB:
- Average transaction: ~500 bytes
- Blocks every 10 minutes
- Math: ~4 MB / 500 bytes / 600 seconds â‰ˆ 7 TPS

**What does this mean in practice?**

During high demand:
- Transactions compete for limited space
- Users bid up fees to get included
- Low-fee transactions may wait hours or days

> âš ï¸ **Common Misconception**: "Bitcoin could just increase block size to scale." This is far more contentious than it sounds â€” it led to the biggest civil war in Bitcoin's history.

### Limitation 3: It's Expensive (Energy)

Bitcoin mining consumes approximately **120-200 TWh per year** â€” similar to a medium-sized country.

| Entity | Annual Electricity (TWh) |
|--------|-------------------------|
| Bitcoin | 120-200 |
| Argentina | 130 |
| Netherlands | 120 |
| Norway | 130 |

**Why so much?**

Proof of Work requires energy expenditure proportional to network security:
- More value to protect â†’ more incentive for attackers
- More hashpower â†’ higher attack cost â†’ more security
- More hashpower requires more energy

**Is this wasteful?**

This is philosophical:
- Critics: The energy produces no useful output beyond security
- Defenders: Security is the output; banks also consume energy

> ðŸ’¡ **Key Insight**: Whether PoW energy use is "justified" depends on your view of Bitcoin's value. But it creates political and environmental pressures that motivate alternatives.

> âœ… **Check Your Understanding**
> - [ ] Name something you'd want to automate that Bitcoin can't
> - [ ] How many transactions can Bitcoin process per second?
> - [ ] Why does Proof of Work require so much energy?

---

## ðŸŸ¡ PM/EM Depth

### The Block Size Wars

From 2015-2017, Bitcoin experienced a governance crisis over block size:

**The Problem**
- Network congestion caused fees to spike to $50+ per transaction
- Clear technical solution: increase block size
- But Bitcoin has no CEO, no board, no voting mechanism

**The Camps**

| Position | Argument | Proponents |
|----------|----------|------------|
| **Big Blockers** | Increase limit to 8MB, 32MB, or more; Bitcoin should be cheap to use | Roger Ver, Gavin Andresen, miners |
| **Small Blockers** | Keep 1MB; scaling on base layer centralizes network; use Layer 2 | Bitcoin Core developers, Adam Back |

**Why Small Blockers Worried About Centralization**

Larger blocks mean:
- More storage: 32MB blocks = 1.68 TB/year of blockchain data
- More bandwidth: Full nodes need to download and propagate
- Fewer people run nodes: Only companies and institutions
- Less decentralized: Fewer nodes = easier to censor/control

**The Fork: Bitcoin Cash**

In August 2017, unable to reach consensus, a group forked Bitcoin:
- **Bitcoin (BTC)**: Kept 1MB block limit, implemented SegWit
- **Bitcoin Cash (BCH)**: Increased to 8MB, then 32MB

Today (2024):
- BTC: $500B+ market cap, dominant
- BCH: $5B market cap, limited adoption

> ðŸ“Š **Business Context**: The Block Size Wars demonstrate a fundamental tension: Bitcoin's lack of central governance makes it censorship-resistant but also makes upgrades extremely difficult. This is a feature *and* a bug.

### The Scalability Trilemma

Ethereum researcher coined this framework, but it applies to Bitcoin:

```
         Decentralization
              /\
             /  \
            /    \
           /      \
          /        \
         /__________\
   Security        Scalability
```

**You can optimize for two, but the third suffers:**

| Optimize For | Sacrifice | Example |
|--------------|-----------|---------|
| Decentralization + Security | Scalability | Bitcoin |
| Security + Scalability | Decentralization | Visa, PayPal |
| Decentralization + Scalability | Security | Some altcoins |

**Bitcoin's Choice**: Prioritize decentralization and security, accept limited scalability.

**Why This Matters for Product Decisions**
- Bitcoin is not competing with Visa for payments
- It's competing with gold for store of value
- Different use case = different acceptable trade-offs

### Layer 2: Scaling Without Changing Bitcoin

Rather than modify Bitcoin's base layer, the community built on top of it:

**Lightning Network**
- Payment channels between parties
- Only opening/closing transactions go on-chain
- Thousands of transactions can happen in a channel
- Settlement when channel closes

```
Alice opens channel with Bob (on-chain transaction)
    â”‚
    â–¼
Alice pays Bob 0.001 BTC (off-chain)
Alice pays Bob 0.002 BTC (off-chain)
Bob pays Alice 0.001 BTC (off-chain)
... (thousands of transactions, instant, nearly free)
    â”‚
    â–¼
Close channel: net result on-chain
```

**Trade-offs of Lightning**
| Advantage | Disadvantage |
|-----------|--------------|
| Instant payments | Requires online presence |
| Near-zero fees | Capital locked in channels |
| Thousands of TPS | Complex routing for large networks |
| No block confirmation wait | Not suitable for large payments |

> ðŸ“Š **Business Context**: Lightning demonstrates that base layer limitations can sometimes be worked around. But it adds complexity and isn't suitable for all use cases (especially smart contracts).

> âœ… **Check Your Understanding**
> - [ ] What was the Block Size Wars about?
> - [ ] What are the three points of the Scalability Trilemma?
> - [ ] How does Lightning Network scale Bitcoin without changing it?

---

## ðŸ”µ Engineer Depth

### Bitcoin Script's Intentional Weakness

Bitcoin Script is deliberately limited:

**No Loops**
```
// This is IMPOSSIBLE in Bitcoin Script:
for (i = 0; i < 100; i++) {
    // do something
}
```

Why: Loops could run forever (halting problem), creating denial-of-service attacks.

**No State**
```
// This is IMPOSSIBLE in Bitcoin Script:
contract.storage["balance"] = 100;
// ... later ...
value = contract.storage["balance"];
```

Why: Each transaction is independent. No shared state between transactions.

**Limited Opcodes**

Bitcoin Script has ~100 opcodes. Many were disabled after early exploits:
- `OP_CAT` (concatenate strings) â€” disabled
- `OP_MUL` (multiply) â€” disabled
- `OP_DIV` (divide) â€” disabled

**What Bitcoin Script CAN Do**

```
P2PKH (Pay to Public Key Hash) - Standard transaction
P2SH (Pay to Script Hash) - Hash of a more complex script
P2MS (Pay to Multisig) - M-of-N signatures required

Time locks:
  OP_CHECKLOCKTIMEVERIFY - Funds locked until block height
  OP_CHECKSEQUENCEVERIFY - Relative time locks

Example: 2-of-3 Multisig
  OP_2 <pubkey1> <pubkey2> <pubkey3> OP_3 OP_CHECKMULTISIG
```

**Why These Limitations Matter for Smart Contracts**

A "smart contract" typically needs:
- Persistent state (e.g., token balances)
- Complex logic (loops, conditionals on state)
- Composability (contracts calling other contracts)

Bitcoin provides none of these. You cannot build DeFi on Bitcoin's base layer.

### UTXO Parallelism and Its Limits

Bitcoin's UTXO model has an interesting property: transactions that don't share inputs can be validated in parallel.

```
Transaction A: Uses UTXO #1
Transaction B: Uses UTXO #2
Transaction C: Uses UTXO #3

These can be validated simultaneously.

Transaction D: Uses UTXO #1 (same as A)

D must wait for A's result.
```

**Why This Matters**

UTXO parallelism is theoretically excellent for scaling. But:
1. Bitcoin's 1MB block limit means parallelism doesn't help much
2. No smart contract state means simple validation anyway
3. The bottleneck is block propagation, not validation

> ðŸ”§ **Technical Detail**: Solana's innovation will involve similar parallelism thinking, but applied to smart contract execution rather than simple transfers.

### Transaction Malleability

Pre-SegWit, Bitcoin had a transaction malleability problem:

```
Original Transaction ID: abc123...

Attacker modifies signature (still valid, different bytes)

New Transaction ID: def456...

Same transaction, different ID!
```

**Why This Matters**
- Made Lightning Network harder to build
- Caused exchange issues (Mt. Gox claimed it led to theft)
- Required tracking transactions by content, not ID

**SegWit Fix**

Segregated Witness (2017) moved signatures outside the transaction ID calculation:

```
Before SegWit:
  TX_ID = Hash(inputs + outputs + signatures)

After SegWit:
  TX_ID = Hash(inputs + outputs)
  Signatures stored separately (the "witness")
```

Benefits:
- Fixed transaction malleability
- Increased effective block capacity (~2.3x)
- Enabled Lightning Network

### The 51% Attack Deep Dive

How much would it cost to attack Bitcoin?

**Current Network Stats (approximate)**
- Total hashrate: ~500 EH/s (exahashes per second)
- Latest ASIC (Antminer S21): 200 TH/s, ~$5,000
- To get 51%: 2.5 million ASICs Ã— $5,000 = **$12.5 billion hardware**
- Electricity: 2.5M Ã— 3,500W = 8.75 GW continuous
- At $0.05/kWh: **$380 million per year in electricity**

**Attack Scenarios**

| Attack | Requires | Outcome |
|--------|----------|---------|
| Prevent confirmations | 51% hashpower | Can censor transactions |
| Double-spend | 51% + re-mine blocks | Can reverse recent transactions |
| Steal others' coins | **Impossible** | Can't forge signatures |

Even with 51%, attacker cannot:
- Create coins from nothing
- Steal coins without private keys
- Change consensus rules (nodes would reject invalid blocks)

> ðŸ’¡ **Key Insight**: Bitcoin's security scales with the value it protects. As BTC price increases, attack cost increases. This is "security through economics."

### The Block Reward Halving and Fee Market

Bitcoin's emission schedule creates a future challenge:

```
Year 2140: Block reward â†’ 0 BTC

Security must come entirely from transaction fees.
```

**Current Fee Dynamics**

During normal periods:
- Fees: 1-10 sat/vbyte
- Block revenue: ~0.1-0.5 BTC in fees

During congestion (NFT mints, inscriptions):
- Fees: 100-500+ sat/vbyte
- Block revenue: 1-5+ BTC in fees

**The Fee Market Problem**

For security to be sustained:
- Either BTC price must increase proportionally to hashpower decrease
- Or fees must increase significantly per transaction
- Or transaction volume must increase dramatically (limited by block size)

**Some Proposals**
- **Tail emission**: Small perpetual block reward (controversial, changes Bitcoin's "promise")
- **Fee bumping mechanisms**: Replace-by-fee, child-pays-for-parent
- **Ordinals/Inscriptions**: New use cases that pay high fees (controversial)

> ðŸ”§ **Technical Detail**: This long-term sustainability question is why alternative consensus mechanisms (PoS) became attractive. Ethereum's switch to PoS eliminated this concern for their network.

> âœ… **Check Your Understanding**
> - [ ] Why was OP_CAT disabled in Bitcoin Script?
> - [ ] What problem did SegWit solve?
> - [ ] What's the estimated cost to 51% attack Bitcoin today?
> - [ ] What's the "fee market problem" that Bitcoin faces long-term?

---

## Key Takeaways

1. **Bitcoin is money, not a computer**: Its scripting language is intentionally limited
2. **Speed is a trade-off**: 10-minute blocks and 7 TPS prioritize security over speed
3. **The Scalability Trilemma**: You can't have decentralization, security, AND scalability at once
4. **Block Size Wars**: Showed how hard governance is without central authority
5. **Energy use is security**: Proof of Work's energy expenditure is the cost of trustlessness
6. **Layer 2 can help**: Lightning Network scales Bitcoin without changing it

These limitations aren't failures â€” they're design choices. Bitcoin optimizes for one thing: being secure, censorship-resistant money.

But many wanted more. They wanted programmable money, decentralized applications, and tokens for anything. They wanted a "world computer."

---

## Next

Vitalik Buterin, a 19-year-old programmer, proposed a new kind of blockchain: one that could run arbitrary programs, not just transfer money.

â†’ [2.1 Ethereum: Code on the Blockchain](../part-2-programmable-blockchain/2.1-ethereum-code-on-blockchain.md)
