# 2.3 Stablecoins: Digital Dollars

> *"Stablecoins are the killer app that's already here."*
> â€” Jeremy Allaire, CEO of Circle

---

## Why This Matters

Stablecoins are the bridge between traditional finance and blockchain. They solve a fundamental problem: how do you use blockchain for everyday transactions when the native currencies (BTC, ETH, SOL) fluctuate 5-20% daily?

Understanding stablecoins is essential because:
- They're the unit of account for most DeFi
- They enable cross-border payments without volatility
- They raise fundamental questions about money, regulation, and control
- A major stablecoin failure (UST/Luna) caused $60B in losses

---

## ðŸŸ¢ General Understanding

### What Is a Stablecoin?

A stablecoin is a cryptocurrency designed to maintain a stable value, typically pegged to $1 USD.

**Why They Exist**

Imagine you're a merchant accepting crypto:
```
Monday: Customer pays 1 ETH for goods ($2,000)
Tuesday: ETH drops 20%
Wednesday: Your 1 ETH is now worth $1,600

You just took a 20% loss on that sale.
```

With stablecoins:
```
Monday: Customer pays 2,000 USDC for goods
Tuesday: Markets crash
Wednesday: Your 2,000 USDC is still worth $2,000

Your purchasing power is preserved.
```

**Major Stablecoins**

| Stablecoin | Issuer | Type | Market Cap |
|------------|--------|------|------------|
| USDT | Tether | Fiat-backed | ~$95B |
| USDC | Circle | Fiat-backed | ~$25B |
| DAI | MakerDAO | Crypto-backed | ~$5B |
| PYUSD | PayPal | Fiat-backed | ~$400M |
| UST (defunct) | Terra | Algorithmic | $0 (was $18B) |

> âš ï¸ **Data Disclaimer**: Market caps and issuer details change quickly. Verify
> current figures before using them in decisions or external materials.

### How Fiat-Backed Stablecoins Work

USDC is the simplest to understand:

```
CREATE (Minting)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Institution sends $1M USD to Circle's bank
2. Circle verifies receipt
3. Circle mints 1M USDC on blockchain
4. Institution receives 1M USDC

DESTROY (Redeeming)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Institution sends 1M USDC to Circle
2. Circle burns 1M USDC
3. Circle wires $1M USD to institution's bank
4. Total supply: 1M fewer USDC
```

**The 1:1 Backing Promise**

Every USDC is supposed to be backed by $1 in reserves:
- Cash in regulated banks
- Short-term US Treasury bills
- Other approved instruments

Monthly attestations (not full audits) verify reserves exist.

> ðŸ’¡ **Key Insight**: You're trusting Circle to actually hold the reserves and honor redemptions. This is counterparty risk â€” the exact thing Bitcoin was designed to avoid.

### Who Owns USDC?

**Circle Internet Financial**
- Founded 2013 by Jeremy Allaire and Sean Neville
- Originally a Bitcoin payment company
- Pivoted to stablecoins in 2018
- Centre Consortium with Coinbase (now Circle operates alone)

**The Coinbase Relationship**
- Coinbase was co-founder of USDC (through Centre)
- Circle and Coinbase share reserve-interest revenue under a commercial agreement
- The split can vary based on distribution channels and custody arrangements

**Business Model**
```
$25B USDC in circulation
Invested in: US Treasuries yielding ~5%
Annual interest income: ~$1.25B
(Split between Circle and Coinbase)

Users holding USDC: Earn 0%
Circle/Coinbase: Earn $1.25B
```

> ðŸ’¡ **Key Insight**: Stablecoin issuers make money on your float. You get convenience; they get interest-free deposits.

### What Prevents Anyone from "Printing" Stablecoins?

Three safeguards:

**1. Smart Contract Control**
```
Only Circle's authorized address can call mint()
The contract is audited and public
Anyone can verify only authorized mints occur
```

**2. Redemption Promise**
```
If Circle prints unbacked USDC:
- Users redeem for USD
- Circle can't pay
- Fraud exposed, company collapses
```

**3. Regulatory Oversight**
```
Circle holds money transmitter licenses
Subject to state and federal regulation
Reserves are audited (attestations, at least)
```

The system works because fraud would be immediately detectable and catastrophic for the issuer.

> âœ… **Check Your Understanding**
> - [ ] Why do stablecoins exist?
> - [ ] How does USDC minting/burning work?
> - [ ] Who makes money from USDC, and how?
> - [ ] What prevents Circle from printing unlimited USDC?

---

## ðŸŸ¡ PM/EM Depth

### Stablecoin Risk Layers

Stablecoins can depeg for different reasons. Treat risk as layers:
- **Reserve risk**: Are assets really there and redeemable?
- **Redemption liquidity**: Can large holders exit quickly without gating?
- **Regulatory exposure**: Can issuance or redemptions be paused?
- **Market liquidity**: Is there enough depth on exchanges for exits?

**Depeg types to remember:**
- **Liquidity depeg**: price deviates due to thin markets
- **Solvency depeg**: reserves or collateral are insufficient

### USDT vs. USDC: Trust Differences

Both are fiat-backed, but with different trust profiles:

| Aspect | USDT (Tether) | USDC (Circle) |
|--------|---------------|---------------|
| Transparency | Quarterly attestations | Monthly attestations |
| Jurisdiction | British Virgin Islands | United States |
| Regulatory status | Minimal oversight | Money transmitter licenses |
| Bank relationships | Opaque, changed frequently | Disclosed, major US banks |
| Reserve composition | Controversial, changed over time | Clear, mostly T-bills |
| Audit history | No full audit ever | Attestations (not audits) |

**USDT Controversies**
- 2019: NY Attorney General found Tether used reserves to cover Bitfinex losses
- 2021: CFTC fined Tether $41M for lying about reserves
- Reserve composition changed from "100% backed by USD" to include commercial paper

**Why USDT Still Dominates**
- First-mover advantage (2014)
- Deep liquidity on Asian exchanges
- Not directly offered to US customers (regulatory shield)
- "Too big to fail" psychology

> ðŸ“Š **Business Context**: USDT's dominance despite trust issues shows network effects in money. People use what others use, even if alternatives are "better." This is why USDC struggles to gain market share.

### Why Doesn't USDC Exist on All Chains?

USDC is "native" on some chains and "bridged" on others:

**Native USDC**
- Circle issues native USDC on selected chains (as of [circle.com/usdc](https://www.circle.com/usdc))
- Circle can freeze/mint/burn per policy and compliance requirements
- Backing details are defined in Circleâ€™s attestations and disclosures

**Bridged USDC**
- Third party bridges ETH-native USDC to new chain
- Bridge holds USDC, issues wrapped version
- Bridge risk: if bridge is hacked, wrapped USDC worthless

```
Native USDC on Solana:
Circle issues â†’ User holds native USDC (as of [circle.com/usdc](https://www.circle.com/usdc))

Bridged USDC (e.g., via Wormhole):
Circle issues on Ethereum â†’ Bridge locks it â†’ Bridge mints "USDC" on Chain X
                                              â†‘
                                    Bridge could be hacked
```

**Why Circle Doesn't Support Every Chain**
- Integration costs (engineering, legal review)
- Each chain needs banking/compliance relationships
- Limited team bandwidth
- Business prioritization (largest chains first)

### Why Doesn't Every Country Have Its Own Stablecoin?

**Central Bank Digital Currencies (CBDCs)**

Governments are exploring their own digital currencies:

| Country | CBDC Status | Notes |
|---------|-------------|-------|
| China | Launched (digital yuan) | Highly centralized, surveillance-enabled |
| EU | Pilot phase (digital euro) | Privacy debates ongoing |
| US | Research phase | Fed still studying implications |
| Nigeria | Launched (eNaira) | Low adoption |
| Bahamas | Launched (Sand Dollar) | Small scale |

**CBDC vs. Private Stablecoins**

| Aspect | CBDC | Private Stablecoin (USDC) |
|--------|------|---------------------------|
| Issuer | Central bank | Private company |
| Backing | Government guarantee | Commercial reserves |
| Privacy | Minimal (by design) | Moderate |
| Programmability | Limited | Full smart contract |
| Cross-border | Complex (requires agreements) | Permissionless |
| Failure mode | Government default | Company insolvency |

**Why CBDCs Are Slow to Arrive**
- Privacy concerns (surveillance potential)
- Bank disintermediation fears
- Technical complexity
- Political resistance
- "If it ain't broke, don't fix it"

> ðŸ’¡ **Key Insight**: Private stablecoins are innovating faster than CBDCs because they don't need government coordination. But CBDCs may eventually regulate or replace them.

### The UST/Luna Collapse: A Case Study

In May 2022, UST (an algorithmic stablecoin) collapsed from $18B to ~$0 in days.

**How UST Worked (Simplified)**
```
UST: Stablecoin targeting $1
LUNA: Governance/utility token

Mechanism:
- If UST > $1: Burn LUNA to mint UST (arbitrage profit)
- If UST < $1: Burn UST to mint LUNA (arbitrage profit)

Theory: Arbitrage keeps UST at $1
Reality: Spiral of death
```

**The Death Spiral**
```
1. Large UST sales push price below $1
2. Arbitrageurs burn UST for LUNA
3. LUNA supply increases, price drops
4. UST holders panic, sell more UST
5. More UST burned for LUNA
6. LUNA supply explodes, price crashes
7. UST peg breaks completely
8. Confidence evaporates
9. $60B in value destroyed
```

**Why This Happened**
- No real collateral (unlike USDC's treasury reserves)
- Reflexive mechanism: LUNA's value backed UST, but LUNA's value depended on confidence in UST
- Anchor Protocol offered unsustainable 20% yield, attracting hot money
- Concentrated attacks could overwhelm arbitrage capacity

> ðŸ“Š **Business Context**: UST showed that "algorithmic" stablecoins are fundamentally fragile. The search for decentralized, scalable stablecoins continues, but every design has trade-offs.

> âœ… **Check Your Understanding**
> - [ ] What are the trust differences between USDT and USDC?
> - [ ] Why is "bridged" USDC riskier than native USDC?
> - [ ] What's the difference between a CBDC and a private stablecoin?
> - [ ] How did the UST/Luna death spiral work?

---

## ðŸ”µ Engineer Depth

### Stablecoin Smart Contract Mechanics

**ERC-20 Token Structure**

USDC is an ERC-20 token with extra features:

```solidity
contract FiatTokenV2 is ERC20, Pausable, Blacklistable {

    // Standard ERC-20
    function transfer(address to, uint256 amount) public returns (bool);
    function balanceOf(address account) public view returns (uint256);

    // Minting (only by authorized minters)
    mapping(address => bool) internal minters;

    function mint(address to, uint256 amount) public onlyMinters {
        require(!paused, "Contract paused");
        require(!blacklisted[to], "Recipient blacklisted");
        _mint(to, amount);
    }

    // Burning (by minters, for redemption)
    function burn(uint256 amount) public onlyMinters {
        _burn(msg.sender, amount);
    }

    // Freeze capabilities
    function blacklist(address account) public onlyBlacklister {
        blacklisted[account] = true;
    }

    function pause() public onlyPauser {
        paused = true;
    }
}
```

**Key Admin Functions**

| Function | Who Can Call | Purpose |
|----------|--------------|---------|
| `mint()` | Authorized minters | Create new tokens (after fiat received) |
| `burn()` | Authorized minters | Destroy tokens (during redemption) |
| `blacklist()` | Blacklister role | Freeze specific addresses |
| `pause()` | Pauser role | Freeze all transfers |
| `updateMinter()` | Admin | Add/remove minting capability |

**Role Separation**
```
Circle's USDC uses multiple admin keys:

Owner (multisig): Ultimate control, can change other roles
Minter Controller: Can add/remove minters, set mint allowances
Minters: Can mint up to their allowance
Pauser: Can pause/unpause contract
Blacklister: Can freeze addresses
```

### Native vs. Bridged: Technical Differences

**Native USDC on Solana**

```
Token Program Address: TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA
USDC Mint Address: EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v
Mint Authority: Circle's multisig

Circle controls:
- Minting new supply
- Freeze authority (can freeze any account)
- No upgrade authority (token mint is immutable)
```

**Bridged USDC (via Wormhole)**

```
Original USDC locked on Ethereum:
    â””â”€â”€ Wormhole guardians attest lock
        â””â”€â”€ Wrapped USDC minted on destination chain

Trust assumptions:
- Wormhole guardians (13/19 multisig) are honest
- Smart contracts on both chains are secure
- Bridge has liquidity to handle redemptions
```

**Why Native > Bridged**

| Aspect | Native | Bridged |
|--------|--------|---------|
| Counterparty risk | Circle only | Circle + Bridge |
| Freeze capability | Circle can freeze | Circle can freeze underlying, bridge can freeze wrapped |
| Redeemability | Direct to Circle | Must unwrap first, then redeem |
| Smart contract risk | One contract | Two+ contracts |

### Cross-Chain Transfer Protocol (CCTP)

Circle's solution to fragmented liquidity:

```
Traditional Bridge:
  Ethereum USDC â†’ Lock â†’ Bridge IOU â†’ Redeem â†’ Target Chain

CCTP:
  Ethereum USDC â†’ Burn â†’ Circle attestation â†’ Mint on Target Chain

Benefits:
- Always native USDC (not wrapped)
- Circle verifies, not third-party bridge
- Unified supply management
```

**CCTP Flow**

```
1. User calls depositForBurn() on source chain
   â†’ USDC burned, event emitted

2. Circle's attestation service observes burn
   â†’ Signs message confirming burn happened

3. User (or relayer) calls receiveMessage() on destination
   â†’ Verifies attestation
   â†’ Mints equivalent USDC

Result: Native USDC on destination, no bridge IOUs
```

### MakerDAO: Decentralized Stablecoin

DAI is crypto-collateralized, not fiat-backed:

**How DAI Works**
```
1. User deposits ETH (or other approved collateral)
2. Opens Collateralized Debt Position (CDP)
3. Borrows DAI against collateral (150%+ overcollateralized)
4. Uses DAI however they want
5. Later: repays DAI + stability fee, retrieves collateral

Example:
- Deposit: 1 ETH ($2,000)
- Max borrow: ~$1,333 DAI (150% collateral ratio)
- If ETH drops to $1,500, collateral ratio = 112.5%
- Liquidation triggered: collateral sold to cover debt
```

**DAI's Stability Mechanism**
```
If DAI > $1:
  - Cheaper to mint DAI (borrow against collateral)
  - More DAI supply â†’ price decreases

If DAI < $1:
  - Cheaper to repay DAI loans
  - Less DAI supply â†’ price increases
  - Stability fee adjustments
```

**Trade-offs vs. USDC**
| Aspect | DAI | USDC |
|--------|-----|------|
| Decentralization | High (smart contracts) | Low (Circle controls) |
| Capital efficiency | Low (150%+ collateral) | High (1:1 backing) |
| Censorship resistance | High | Low (can be frozen) |
| Scalability | Limited by collateral | Limited by demand |
| Bank run risk | Possible (if collateral crashes) | Possible (if Circle insolvent) |

### Stablecoin Risks: Technical Deep Dive

**1. Smart Contract Risk**
```
- Upgrade key compromise: Attacker gains admin, mints unlimited
- Logic bug: Unexpected behavior allows drain
- Composability exploit: Attack through integrated protocol

Mitigations:
- Timelock on upgrades (e.g., 48-hour delay)
- Multiple audits
- Bug bounties
- Pausability
```

**2. Redemption/Depegging Risk**
```
Scenario: Bank run on stablecoin

Users want to redeem $10B USDC
Circle's liquid reserves: $5B
Result: Some users can't redeem

What happens:
- USDC trades below $1 on secondary markets
- Panic increases
- Circle must liquidate less-liquid assets
- Possible haircut or delayed redemptions
```

**3. Regulatory Risk**
```
Government can:
- Require KYC for all holders
- Force blacklisting of addresses
- Mandate reserve composition
- Revoke operating licenses

Example: Tornado Cash sanctions
- USDC blacklisted Tornado Cash addresses
- ~$75K frozen from innocent users
- No due process, no recourse
```

**4. Counterparty Risk**
```
Circle's banks fail (SVB example):
- March 2023: SVB held $3.3B of USDC reserves
- SVB collapsed Friday
- USDC traded at $0.88 over weekend
- FDIC backstop announced Sunday
- USDC restored to $1

Without FDIC intervention, unknown outcome
```

> âœ… **Check Your Understanding**
> - [ ] What admin functions does Circle have over USDC?
> - [ ] How does CCTP differ from traditional bridges?
> - [ ] How does DAI maintain its peg without fiat reserves?
> - [ ] What are the four main risk categories for stablecoins?

---

## Key Takeaways

1. **Stablecoins bridge TradFi and crypto** â€” essential for most DeFi activity
2. **Fiat-backed stablecoins** require trusting the issuer (counterparty risk)
3. **USDT vs. USDC** differ mainly in transparency and regulation
4. **Native vs. bridged** is a crucial distinction for risk assessment
5. **Algorithmic stablecoins failed** â€” UST/Luna showed reflexive designs are fragile
6. **CBDCs are coming** but may complement rather than replace private stablecoins
7. **Circle can freeze your USDC** â€” decentralization is sacrificed for stability

Stablecoins are infrastructure. Now that we understand the programmable blockchain era â€” smart contracts, PoS, and stable units of account â€” we're ready to see how Solana does things differently.

---

## Next

Solana asked: what if we designed a blockchain from scratch, optimized for speed, with different trade-offs than Ethereum?

â†’ [3.1 Solana's Hypothesis](../part-3-enter-solana/3.1-solanas-hypothesis.md)
