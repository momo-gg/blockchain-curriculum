# 3.1 Solana's Hypothesis

> *"Can we run a blockchain at the speed of a stock exchange? That was the question."*
> â€” Anatoly Yakovenko, Solana Founder

---

## Why This Matters

Solana began with a contrarian bet: while most blockchains accepted slowness as the price of decentralization, Anatoly Yakovenko believed that hardware would continue getting faster, and a blockchain designed to exploit that would outperform those that didn't.

This module explains Solana's core hypothesis and why it led to fundamentally different design decisions than Ethereum.

> âš ï¸ **Data Disclaimer**: TPS figures and performance benchmarks cited in this module reflect late 2024 conditions. Blockchain performance varies with network load, validator counts, and protocol upgrades. Verify current metrics at [Solana Beach](https://solanabeach.io) or [Solana Status](https://status.solana.com).

---

## ðŸŸ¢ General Understanding

### The Insight: Time Is the Bottleneck

Anatoly Yakovenko worked at Qualcomm on cellular networks, where precise timing is everything. He noticed something about blockchains:

**The Problem with Existing Blockchains**

In Bitcoin and Ethereum, nodes must agree on the *order* of transactions. This requires communication:

```
Ethereum Block Production:
1. Validator proposes block
2. Broadcasts to all nodes
3. Nodes validate
4. Nodes vote/attest
5. Collect 2/3 attestations
6. Block is final

Each step requires network round trips.
Bottleneck: Speed of light + network latency
```

**The Question**

What if nodes could agree on *when* things happened without waiting to communicate?

```
If I can prove what time it was when I saw a transaction:
- No need to wait for others to confirm order
- Can process immediately
- Speed limited by hardware, not network
```

This is the core of **Proof of History**.

### Solana's Bet

**Moore's Law Still Works**

| Year | Transistors | Speed |
|------|-------------|-------|
| 2000 | 37M | 1.5 GHz |
| 2010 | 2B | 3.4 GHz |
| 2020 | 50B | 5.0 GHz |
| 2030 | ??? | ??? |

Hardware keeps getting faster, cheaper, and more parallel. Solana bets on this continuing.

**Design for the Future, Not the Past**

Ethereum prioritizes running on a Raspberry Pi. Solana requires:
- High-end CPU (16+ cores)
- Fast NVMe storage (1TB+)
- Fast network (1 Gbps+)
- Significant RAM (256 GB+)

Different target â†’ different capabilities.

**The Trade-off**

| Ethereum Approach | Solana Approach |
|-------------------|-----------------|
| Low hardware requirements | High hardware requirements |
| Anyone can run a node | Only well-resourced operators |
| ~30 TPS | ~5,000+ TPS |
| ~15 min finality | ~12 sec finality |
| More decentralized (by node count) | More decentralized (by stake distribution) |

> ðŸ’¡ **Key Insight**: Solana trades node accessibility for transaction throughput. Whether this is "better" depends on what you value.

### Why This Matters for Users

**Lower Fees**
```
Ethereum: $0.50 - $50+ per transaction
Solana: $0.00025 per transaction

Why? More transactions per block = lower cost per transaction
```

**Faster Experience**
```
Ethereum: 12-second blocks, ~15-min finality
Solana: 400ms blocks, ~12-sec finality

Result: Apps feel like web apps, not blockchain apps
```

**New Use Cases Enabled**
- High-frequency trading (requires millisecond execution)
- Gaming (can't wait 15 minutes for a move to confirm)
- Social (posting content shouldn't cost $5)
- IoT (millions of small transactions)

> âœ… **Check Your Understanding**
> - [ ] What was Anatoly Yakovenko's background?
> - [ ] What is Solana's core bet about hardware?
> - [ ] What's the trade-off Solana makes compared to Ethereum?
> - [ ] What use cases does Solana's speed enable?

---

## ðŸŸ¡ PM/EM Depth

### The History

**2017: The Idea**
- Anatoly has a "shower thought" about using SHA-256 as a clock
- Writes initial whitepaper in spare time
- Proof of concept on a laptop

**2018: Formation**
- Solana Labs founded
- Raises $20M from a]capital, Multicoin, Foundation Capital
- Builds first testnet

**2019-2020: Development**
- Multiple testnets, stress testing
- Mainnet Beta launches March 2020
- "Beta" because still finding bugs at scale

**2021: Explosion**
- DeFi summer on Solana
- NFT projects migrate
- Peak TVL: $12B+
- Multiple network outages (growing pains)

**2022-2024: Maturation**
- FTX collapse (major Solana supporter)
- Network stabilization efforts
- Firedancer client development
- Recovery and ecosystem rebuilding

### Network Economics

**Token Distribution (Initial)**
```
Solana Foundation: 12.8%
Solana Labs: 12.5%
Validators (through grants): 2.1%
Private Sale: 15.9%
Public Sale: 1.6%
Staking/Liquidity Incentives: 25.1%
Community & Ecosystem: 30%
```

**Current State (2024)**
- ~400M SOL circulating
- Inflation: ~5.5% annually (decreasing)
- ~70% of supply staked

**Validator Economics Preview**

| Cost Category | Annual Range |
|---------------|--------------|
| Hardware | $3,000-10,000 |
| Bandwidth | $1,200-6,000 |
| Datacenter | $6,000-24,000 |
| Staked SOL | Opportunity cost varies |
| **Total** | **$10,000-50,000+** |

Revenue comes from:
- Inflation rewards (block rewards)
- Transaction fees
- MEV (via Jito)

> ðŸ“Š **Business Context**: Solana's validator set is smaller than Ethereum's but more professionally operated. This is intentional â€” Solana prioritizes performance over hobbyist participation.

### The Outage History

Solana has experienced multiple network outages:

| Date | Duration | Cause |
|------|----------|-------|
| Sep 2021 | 17 hours | Resource exhaustion from bot traffic |
| Dec 2021 | 16 hours | Congestion, transaction retry storms |
| Jan 2022 | 8 hours | Congestion during NFT mint |
| May 2022 | 7 hours | Bot traffic, offline validator |
| Jun 2022 | 4 hours | Bug in durable nonces |
| Feb 2023 | 20 hours | Consensus divergence |

**Why These Happen**
- Solana pushes hardware limits
- Novel architecture = novel failure modes
- Success (high demand) stress-tests the system

**Why They're Decreasing**
- QUIC protocol (better traffic management)
- Stake-weighted QoS (priority for stakers)
- Multiple validator clients (Firedancer)
- Better testing and gradual rollouts

> ðŸ“Š **Business Context**: Every outage is a PR crisis but also learning. Solana's transparency about failures and fixes has maintained developer confidence. Uptime has improved significantly since 2022.

### Comparison: Throughput Claims

**Claimed vs. Actual**

| Blockchain | Theoretical Max | Typical Actual |
|------------|-----------------|----------------|
| Solana | 65,000 TPS | 3,000-5,000 TPS |
| Ethereum L1 | 30 TPS | 15-30 TPS |
| Ethereum L2s | 2,000-10,000 TPS | 50-500 TPS |
| Avalanche | 4,500 TPS | 100-300 TPS |

**Why the Gap?**

Theoretical assumes:
- Perfect network conditions
- Optimal transaction types
- Full hardware utilization

Reality has:
- Network variance
- Complex transactions
- Not all capacity used

> ðŸ’¡ **Key Insight**: Don't compare theoretical maxes. Compare real-world sustained throughput under typical load.

> âœ… **Check Your Understanding**
> - [ ] What was Solana's founding story?
> - [ ] What are the major costs of running a validator?
> - [ ] Why has Solana experienced outages?
> - [ ] What's the difference between theoretical and actual TPS?

---

## ðŸ”µ Engineer Depth

### Proof of History: The Core Innovation

**What Problem Does It Solve?**

In distributed systems, agreeing on time is hard:
- Each node has its own clock
- Clocks drift differently
- No global reference

Traditional consensus: Exchange messages to agree on order
PoH: Create a cryptographic proof of elapsed time

**How Proof of History Works**

```
PoH is a SHA-256 hash chain:

hash_0 = sha256(seed)
hash_1 = sha256(hash_0)
hash_2 = sha256(hash_1)
...
hash_n = sha256(hash_{n-1})

Each hash takes ~400ns on modern hardware.
```

**Why This Proves Time**

Computing the chain is sequential (each hash needs the previous one):

```
To compute hash_1000000:
- Must compute hashes 1 through 999999 first
- Cannot parallelize (inherently sequential)
- Takes ~400Î¼s on fast hardware (known time)

Therefore:
- hash_1000000 must have been computed after hash_999999
- The chain represents verifiable elapsed time
```

**Recording Events**

When a transaction arrives, it's "mixed in" to the hash chain:

```
hash_n = sha256(hash_{n-1})
hash_{n+1} = sha256(hash_n + transaction_data)  â† Transaction recorded
hash_{n+2} = sha256(hash_{n+1})
...

The transaction's position in the chain proves when it arrived.
All observers agree on ordering.
```

**Verification**

Anyone can verify the chain:
```
To verify 1 million hashes:
- Divide among N cores
- Each core verifies a segment
- Parallel verification in O(n/cores) time

Generation: Sequential (slow)
Verification: Parallel (fast)
```

> ðŸ’¡ **ELI5: Proof of History**
>
> Imagine you have a **stopwatch that stamps a unique code every second**:
> - The code at second 5 is based on the code at second 4
> - You can't skip ahead â€” you have to compute each second in order
> - But anyone can check your work by splitting up the codes among friends
>
> **How it solves the time problem**: In traditional blockchains, everyone has to constantly ask "what time is it?" and argue about order. With PoH, there's one trusted timeline â€” like having a video recording of exactly when everything happened. No debates needed.
>
> **Real-world analogy**: It's like taking a photo of today's newspaper next to a document. The newspaper proves the document existed *after* that date. PoH does this cryptographically, millions of times per second.

### Solana's Eight Innovations

Solana's speed comes from eight innovations working together:

**1. Proof of History (PoH)**
- Cryptographic clock
- Proves passage of time
- Enables parallelism

**2. Tower BFT**
- PoH-optimized PBFT variant
- Validators vote on PoH-anchored slots
- Exponential lockouts for votes

**3. Turbine**
- Block propagation protocol
- Data split into "shreds"
- Tree-based transmission (like BitTorrent)

**4. Gulf Stream**
- Mempool-less transaction forwarding
- Transactions sent directly to expected leader
- Reduces confirmation times

**5. Sealevel**
- Parallel smart contract runtime
- Non-conflicting transactions execute simultaneously
- Uses account dependencies to determine parallelism

**6. Pipelining**
- Transaction processing pipeline
- Fetch â†’ Verify â†’ Execute â†’ Commit
- Different stages on different hardware (GPU, CPU, disk)

**7. Cloudbreak**
- Horizontally-scaled accounts database
- Memory-mapped files for state
- Optimized for NVMe drives

**8. Archivers**
- Distributed ledger storage
- Validators don't need full history
- Proof of Replication for storage

### Transaction Lifecycle

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Transaction Lifecycle                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. USER SUBMITS (via RPC)
   â””â”€â”€ Transaction includes: recent blockhash, instructions, signatures

2. RPC NODE RECEIVES
   â””â”€â”€ Basic validation (signature, balance check)
   â””â”€â”€ Forwards to current/next leader (Gulf Stream)

3. LEADER RECEIVES
   â””â”€â”€ Inserts into PoH sequence
   â””â”€â”€ Executes transaction (Sealevel)
   â””â”€â”€ Generates "entry" (batch of transactions)

4. BLOCK PRODUCTION
   â””â”€â”€ Entries combined into slots
   â””â”€â”€ Slot = 400ms of PoH ticks
   â””â”€â”€ Block = multiple sequential entries

5. BLOCK PROPAGATION (Turbine)
   â””â”€â”€ Leader shreds block into 64KB chunks
   â””â”€â”€ Sends to first layer of validators
   â””â”€â”€ Tree propagation continues

6. VOTING (Tower BFT)
   â””â”€â”€ Validators vote on slots
   â””â”€â”€ Votes include PoH reference
   â””â”€â”€ 2/3 stake voting = supermajority

7. CONFIRMATION
   â””â”€â”€ Optimistic confirmation: 2/3 voted (~400ms)
   â””â”€â”€ Finalization: 31 slots of votes (~12 seconds)
   â””â”€â”€ Rooted: Confirmed irreversible
```

### Slot and Epoch Structure

```
1 Tick = 6.25ms (PoH hash advancement)
1 Slot = 64 Ticks = 400ms (single leader's time)
1 Epoch = 432,000 Slots = ~2-3 days

Within each slot:
- One leader produces blocks
- Other validators verify and vote
- Transactions included in entries

Leader schedule:
- Determined at epoch start
- Based on stake weight
- Pseudo-random selection
```

### The Account Model (Preview)

Unlike Ethereum's contract-stores-state model:

```
Ethereum:
  Contract has storage
  Storage accessed via contract
  Contract = code + state

Solana:
  Programs are stateless (code only)
  Data lives in separate accounts
  Accounts specify which program owns them

Example:
  Token Program: Just code (deployed once)
  Token Account: Just data (one per user)
  The program operates ON accounts
```

This enables:
- Parallel execution (different accounts = independent)
- Program reuse (one token program, millions of token accounts)
- Clear ownership model

### Network Topology

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Solana Network                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚    RPC Nodes                    Validator Nodes                      â”‚
â”‚    (serve dApps)                (produce/vote on blocks)            â”‚
â”‚                                                                      â”‚
â”‚    â”Œâ”€â”€â”€â”  â”Œâ”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚    â”‚RPCâ”‚  â”‚RPCâ”‚                 â”‚   Validator A (10%)   â”‚ â† Stake   â”‚
â”‚    â””â”€â”¬â”€â”˜  â””â”€â”¬â”€â”˜                 â”‚   Validator B (5%)    â”‚           â”‚
â”‚      â”‚      â”‚                    â”‚   Validator C (3%)    â”‚           â”‚
â”‚      â”‚      â”‚                    â”‚   ...                 â”‚           â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚   ~1,500 validators   â”‚           â”‚
â”‚             â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚             â”‚                              â”‚                         â”‚
â”‚             â”‚                    Gossip Protocol                     â”‚
â”‚             â”‚         (peer-to-peer communication)                   â”‚
â”‚             â”‚                              â”‚                         â”‚
â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                                                                      â”‚
â”‚    Archive Nodes                                                     â”‚
â”‚    (store full history)                                             â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> âœ… **Check Your Understanding**
> - [ ] How does Proof of History create a verifiable clock?
> - [ ] Name three of Solana's eight innovations
> - [ ] What's the difference between a slot and an epoch?
> - [ ] How does Solana's account model differ from Ethereum's?
> - [ ] Why is PoH generation sequential but verification parallel?

---

## Key Takeaways

1. **Solana bet on hardware improving** â€” design for future hardware, not current constraints
2. **Proof of History** is a verifiable clock, solving distributed time without message passing
3. **Eight innovations** work together: PoH, Tower BFT, Turbine, Gulf Stream, Sealevel, Pipelining, Cloudbreak, Archivers
4. **Higher hardware requirements** = fewer but more capable validators
5. **400ms blocks, 12-second finality** enable real-time applications
6. **Outages happened** but are decreasing as the system matures

Solana's hypothesis is that performance-at-scale is more important than running on a Raspberry Pi. The market is still deciding if this bet is correct.

---

## Next

Now let's dive deeper into how each of Solana's innovations works in practice.

â†’ [3.2 How Solana Works](./3.2-how-solana-works.md)
